<ResourceDictionary
    x:Class="NINA.Plugins.PlateSolvePlus.Options"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <DataTemplate x:Key="PlateSolvePlus_Options">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Orientation="Vertical"
                        Margin="10"
                        HorizontalAlignment="Left">

                <!-- Header -->
                <TextBlock Text="PlateSolvePlus – Guide Scope Plate Solving"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Margin="0,0,0,12"/>

                <!-- ================================================= -->
                <!-- Guider Capture -->
                <!-- ================================================= -->
                <GroupBox Header="Guider Capture" Margin="0,0,0,10">
                    <StackPanel Margin="10">

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                            <TextBlock Text="Exposure (s)"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.GuideExposureSeconds}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                            <TextBlock Text="Gain"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.GuideGain}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Binning"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.GuideBinning}" />
                        </StackPanel>

                    </StackPanel>
                </GroupBox>

                <!-- ================================================= -->
                <!-- Optics / Scale -->
                <!-- ================================================= -->
                <GroupBox Header="Optics / Scale" Margin="0,0,0,10">
                    <StackPanel Margin="10">

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                            <TextBlock Text="Focal Length (mm)"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.GuideFocalLengthMm}" />
                        </StackPanel>

                        <CheckBox Content="Use camera pixel size"
                                  IsChecked="{Binding Settings.UseCameraPixelSize}"
                                  Margin="0,4,0,4"/>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Pixel Size (µm)"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.GuidePixelSizeUm}" />
                        </StackPanel>

                    </StackPanel>
                </GroupBox>

                <!-- ================================================= -->
                <!-- Solver -->
                <!-- ================================================= -->
                <GroupBox Header="Solver" Margin="0,0,0,10">
                    <StackPanel Margin="10">

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                            <TextBlock Text="Search Radius (°)"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.SolverSearchRadiusDeg}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                            <TextBlock Text="Downsample"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.SolverDownsample}" />
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Timeout (s)"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.SolverTimeoutSec}" />
                        </StackPanel>

                    </StackPanel>
                </GroupBox>

                <!-- ================================================= -->
                <!-- Offset -->
                <!-- ================================================= -->
                <GroupBox Header="Offset" Margin="0,0,0,10">
                    <StackPanel Margin="10">

                        <CheckBox Content="Offset verwenden"
                                  IsChecked="{Binding Settings.OffsetEnabled}"
                                  Margin="0,0,0,6"/>

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                            <TextBlock Text="Mode"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <ComboBox Width="160"
                                      SelectedIndex="{Binding Settings.OffsetModeInt}">
                                <ComboBoxItem Content="Rotation"/>
                                <ComboBoxItem Content="Arcsec"/>
                            </ComboBox>
                        </StackPanel>

                    </StackPanel>
                </GroupBox>

                <!-- ================================================= -->
                <!-- Touch-N-Stars / Local API -->
                <!-- ================================================= -->
                <GroupBox Header="Touch-N-Stars / Local API" Margin="0,0,0,10">
                    <StackPanel Margin="10">

                        <CheckBox Content="Local API aktivieren (localhost)"
                                  IsChecked="{Binding Settings.ApiEnabled}" />

                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <TextBlock Text="Port"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="120"
                                     Text="{Binding Settings.ApiPort,
                                                    UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>

                        <CheckBox Content="API-Zugriff mit Token absichern"
                                  Margin="0,8,0,0"
                                  IsChecked="{Binding Settings.ApiRequireToken}" />

                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <TextBlock Text="API-Token"
                                       Width="220"
                                       VerticalAlignment="Center"/>
                            <TextBox Width="260"
                                     Text="{Binding Settings.ApiToken,
                                                    UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>

                    </StackPanel>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>
    </DataTemplate>

</ResourceDictionary>
